"use strict";(self.webpackChunkglobalpass_docs=self.webpackChunkglobalpass_docs||[]).push([[47],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>g});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=r.createContext({}),c=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},u=function(e){var t=c(e.components);return r.createElement(l.Provider,{value:t},e.children)},p="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,l=e.parentName,u=o(e,["components","mdxType","originalType","parentName"]),p=c(n),d=a,g=p["".concat(l,".").concat(d)]||p[d]||m[d]||i;return n?r.createElement(g,s(s({ref:t},u),{},{components:n})):r.createElement(g,s({ref:t},u))}));function g(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,s=new Array(i);s[0]=d;var o={};for(var l in t)hasOwnProperty.call(t,l)&&(o[l]=t[l]);o.originalType=e,o[p]="string"==typeof e?e:a,s[1]=o;for(var c=2;c<i;c++)s[c]=n[c];return r.createElement.apply(null,s)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},9027:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>s,default:()=>m,frontMatter:()=>i,metadata:()=>o,toc:()=>c});var r=n(7462),a=(n(7294),n(3905));const i={sidebar_position:3.1},s="Retrieving Screening Data",o={unversionedId:"api-integration-guide/aml-screenings/aml-for-address-integration/retrieving-screening-data",id:"api-integration-guide/aml-screenings/aml-for-address-integration/retrieving-screening-data",title:"Retrieving Screening Data",description:"You will receive a webhook with type screening.change whenever the screening status changes.",source:"@site/docs/api-integration-guide/aml-screenings/aml-for-address-integration/retrieving-screening-data.md",sourceDirName:"api-integration-guide/aml-screenings/aml-for-address-integration",slug:"/api-integration-guide/aml-screenings/aml-for-address-integration/retrieving-screening-data",permalink:"/api-integration-guide/aml-screenings/aml-for-address-integration/retrieving-screening-data",draft:!1,tags:[],version:"current",sidebarPosition:3.1,frontMatter:{sidebar_position:3.1},sidebar:"apiIntegrationGuideSidebar",previous:{title:"AML For Address integration",permalink:"/api-integration-guide/aml-screenings/aml-for-address-integration/"},next:{title:"Retrieve Address AML PDF Report",permalink:"/api-integration-guide/aml-screenings/aml-for-address-integration/retrieve-address-aml-pdf-report"}},l={},c=[{value:"Retrieve Screening Status",id:"retrieve-screening-status",level:3},{value:"Retrieve AML matches",id:"retrieve-aml-matches",level:3}],u={toc:c},p="wrapper";function m(e){let{components:t,...n}=e;return(0,a.kt)(p,(0,r.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"retrieving-screening-data"},"Retrieving Screening Data"),(0,a.kt)("p",null,"You will receive a webhook with type ",(0,a.kt)("strong",{parentName:"p"},"screening.change")," whenever the screening status changes.\nAfter this webhook you can retrieve latest data from the API."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="Example webhook"',title:'"Example','webhook"':!0},'{\n    "type": "screening.change",\n    "data": {\n        "screeningToken": "f4564d3d-69de-4093-971d-796699c0e8c5"\n    },\n    "secret": "<secret>"\n}\n')),(0,a.kt)("h3",{id:"retrieve-screening-status"},"Retrieve Screening Status"),(0,a.kt)("p",null,"To get screenings status, make a HTTP GET request to:"),(0,a.kt)("p",null,(0,a.kt)("em",{parentName:"p"},"/api/v2/screenings/{screeningToken}/status")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash",metastring:'title="Example request"',title:'"Example','request"':!0},"curl --location --request GET 'https://screenings-api-test.globalpass.ch/api/v2/screenings/f4564d3d-69de-4093-971d-796699c0e8c5/status' --header 'Authorization: Bearer {your_access_token}'\n")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="Example response #1"',title:'"Example',response:!0,'#1"':!0},'{\n    "status": "Accepted"\n}\n')),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="Example response #2"',title:'"Example',response:!0,'#2"':!0},'{\n    "status": "Rejected"\n}\n')),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"Possible ",(0,a.kt)("strong",{parentName:"p"},"status")," values:")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Accepted \u2013 screening is completed, AML matches over your set-up threshold ",(0,a.kt)("strong",{parentName:"li"},"are not")," found."),(0,a.kt)("li",{parentName:"ul"},"Rejected \u2013 screening is completed, AML matches over your set-up threshold ",(0,a.kt)("strong",{parentName:"li"},"are")," found.")),(0,a.kt)("h3",{id:"retrieve-aml-matches"},"Retrieve AML matches"),(0,a.kt)("p",null,"To retrieve ",(0,a.kt)("strong",{parentName:"p"},"AML scan results")," from a completed screening, make an HTTP GET request to:"),(0,a.kt)("p",null,(0,a.kt)("em",{parentName:"p"},"/api/v2/address/{screeningToken}/aml/matches")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash",metastring:'title="Example request"',title:'"Example','request"':!0},"curl --location --request GET 'https://screenings-api-test.globalpass.ch/api/v2/address/9519c730-5d6e-4c23-b89a-8c4d06899e7f/aml/matches' --header 'Authorization: Bearer {your_access_token}'\n")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="Example response"',title:'"Example','response"':!0},'{\n  "screeningToken": "26e68cdc-d604-4bee-bfa3-12d978e6bf9b",\n  "created": "2023-10-05T12:36:49.7836279Z",\n  "matches": [\n    {\n      "profileId": 12164100,\n      "name": "Eurochem Logistics International",\n      "matchScore": 97,\n      "category": "Associated Entity",\n      "subCategory": "Ownership Or Control",\n      "source": {\n        "name": "EU-European Union List - Sanctions Ownership or Control",\n        "countryName": "International"\n      },\n      "comments": "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean sed tortor viverra, tincidunt arcu pulvinar, placerat lectus. Maecenas tristique velit vitae sem dignissim ultrices. Suspendisse nec congue massa. Nam porta posuere lacus ut posuere. Morbi finibus lectus eget ornare tempor. Vivamus ultricies non ipsum vitae ornare. Praesent ut fermentum nunc. Maecenas et dui malesuada, rutrum purus a, blandit eros. Quisque ex nibh, vestibulum nec purus sit amet, ultricies vulputate urna. Proin fringilla libero odio, at elementum elit vehicula eu. Etiam ac est a massa pulvinar congue at non felis. Suspendisse varius commodo elit sed cursus. Nullam auctor erat fringilla velit sodales mollis. In quis enim quam."\n    }\n  ]\n}\n')),(0,a.kt)("p",null,"Where:"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:null},"Property"),(0,a.kt)("th",{parentName:"tr",align:null},"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"profileId"),(0,a.kt)("td",{parentName:"tr",align:null},"Unique identifier of the match record")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"name"),(0,a.kt)("td",{parentName:"tr",align:null},"Name of the detected possible AML match")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"matchScore"),(0,a.kt)("td",{parentName:"tr",align:null},"AML match strength. Values up to 99.9999 (highest possible strength)")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"category"),(0,a.kt)("td",{parentName:"tr",align:null},'AML match category. Possible categories: "Sanction List", "PEP", "Adverse Media", "Enforcement". One match will have one category.')),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"subCategory"),(0,a.kt)("td",{parentName:"tr",align:null},"Available only for PEP, Adverse Media and Enforcement categories. Specifies subcategory of the main category (e.g., PEP \u2013 Family Member, Adverse Media \u2013 Burglary, etc.).")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"source"),(0,a.kt)("td",{parentName:"tr",align:null},"Information about the source of the AML hit")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"source.name"),(0,a.kt)("td",{parentName:"tr",align:null},'Name of the source of the hit. Will return exact name of the source when the hit was found on an original list. Will return "Website" when the hit was found in media sources.')),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"source.countryName"),(0,a.kt)("td",{parentName:"tr",align:null},'Full name of the country that listed the hit (e.g., country that released a sanction list where the hit was count). Will return full country name of the source when the hit was found on an original list. Will return "International" when the hit was found in media sources, or in case of "Consolidated Sanctions List" hit.')),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"source.countryCode"),(0,a.kt)("td",{parentName:"tr",align:null},"3-letter code in ",(0,a.kt)("em",{parentName:"td"},"ISO 3166-1 Alpha-3"),' format of the country that released the hit. Available only when countryName is not "International", but a specific country.')),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"comments"),(0,a.kt)("td",{parentName:"tr",align:null},"A detailed comment about found match.")))))}m.isMDXComponent=!0}}]);