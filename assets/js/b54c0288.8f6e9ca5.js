"use strict";(self.webpackChunkglobalpass_docs=self.webpackChunkglobalpass_docs||[]).push([[491],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>d});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),c=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},p=function(e){var t=c(e.components);return a.createElement(s.Provider,{value:t},e.children)},m="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},g=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),m=c(n),g=r,d=m["".concat(s,".").concat(g)]||m[g]||u[g]||i;return n?a.createElement(d,o(o({ref:t},p),{},{components:n})):a.createElement(d,o({ref:t},p))}));function d(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,o=new Array(i);o[0]=g;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[m]="string"==typeof e?e:r,o[1]=l;for(var c=2;c<i;c++)o[c]=n[c];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}g.displayName="MDXCreateElement"},5916:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>o,default:()=>u,frontMatter:()=>i,metadata:()=>l,toc:()=>c});var a=n(7462),r=(n(7294),n(3905));const i={sidebar_position:7.1},o="Retrieving Screening Data",l={unversionedId:"api-integration-guide/aml-screenings/aml-for-transactions-integration/retrieving-screening-data",id:"api-integration-guide/aml-screenings/aml-for-transactions-integration/retrieving-screening-data",title:"Retrieving Screening Data",description:"You will receive a webhook with type screening.aml.completed indicating that the scan has been completed.",source:"@site/docs/api-integration-guide/aml-screenings/aml-for-transactions-integration/retrieving-screening-data.md",sourceDirName:"api-integration-guide/aml-screenings/aml-for-transactions-integration",slug:"/api-integration-guide/aml-screenings/aml-for-transactions-integration/retrieving-screening-data",permalink:"/api-integration-guide/aml-screenings/aml-for-transactions-integration/retrieving-screening-data",draft:!1,tags:[],version:"current",sidebarPosition:7.1,frontMatter:{sidebar_position:7.1},sidebar:"apiIntegrationGuideSidebar",previous:{title:"AML for Transactions integration",permalink:"/api-integration-guide/aml-screenings/aml-for-transactions-integration/"},next:{title:"Recurring AML Screenings",permalink:"/api-integration-guide/recurring-aml-screenings"}},s={},c=[],p={toc:c},m="wrapper";function u(e){let{components:t,...n}=e;return(0,r.kt)(m,(0,a.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"retrieving-screening-data"},"Retrieving Screening Data"),(0,r.kt)("p",null,"You will receive a webhook with type ",(0,r.kt)("strong",{parentName:"p"},"screening.aml.completed")," indicating that the scan has been completed."),(0,r.kt)("p",null,'Webhooks (HTTP POST requests) will be sent to the webhook callback URL you provide to the GlobalPass support team. When receiving these requests, ensure that the body value of "secret" matches the webhook secret we will provide.'),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="Example webhook"',title:'"Example','webhook"':!0},'{\n    "type": "screening.aml.completed",\n    "data": {\n        "screeningToken": "f4564d3d-69de-4093-971d-796699c0e8c5"\n    },\n    "secret": "secret"\n}\n')),(0,r.kt)("p",null,"To get overview of scan results, make an HTTP GET request to:"),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"/api/v2/quick-search/{screeningToken}/aml/match/exists")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash",metastring:'title="Example request"',title:'"Example','request"':!0},"curl --location --request GET 'https://screenings-api-test.globalpass.ch/api/v2/quick-search/f4564d3d-69de-4093-971d-796699c0e8c5/aml/match/exists' --header 'Authorization: Bearer {your_access_token}'\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="Example response #1"',title:'"Example',response:!0,'#1"':!0},'{\n    "amlMatchExists": true,\n    "totalMatches": 3,\n    "highestScore": 96\n}\n')),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="Example response #2"',title:'"Example',response:!0,'#2"':!0},'{\n    "amlMatchExists": false,\n    "totalMatches": 0\n}\n')),(0,r.kt)("p",null,"To retrieve ",(0,r.kt)("strong",{parentName:"p"},"AML scan results")," from a completed screening, make an HTTP GET request to:"),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"/api/v2/quick-search/{screeningToken}/aml/matches")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash",metastring:'title="Example request"',title:'"Example','request"':!0},"curl --location --request GET 'https://screenings-api-test.globalpass.ch/api/v2/quick-search/9519c730-5d6e-4c23-b89a-8c4d06899e7f/aml/matches' --header 'Authorization: Bearer {your_access_token}'\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="Example response"',title:'"Example','response"':!0},'{\n    "screeningToken": "9519c730-5d6e-4c23-b89a-8c4d06899e7f",\n    "created": "2022-12-28T11:04:25.0931836Z",\n    "matches": [\n        {\n            "name": "Ali, Muhamad",\n            "matchScore": 99.99999,\n            "category": "Enforcement",\n            "subCategory": "Corruption",\n            "source": {\n                "name": "ZA-South African Police Service",\n                "countryName": "South Africa",\n                "countryCode": "ZAF"\n            }\n        },\n        {\n            "name": "Ali, Mohammad",\n            "matchScore": 91.11111,\n            "level": "National",\n            "category": "PEP",\n            "subCategory": "Former PEP",\n            "source": {\n                "name": "Website",\n                "countryName": "International"\n            }\n        },\n        {\n            "name": "Ali Mohammed",\n            "matchScore": 74.44444,\n            "category": "Sanction List",\n            "source": {\n                "name": "US-U.S. Office of Foreign Asset Control (OFAC) - SDN List",\n                "countryName": "United States",\n                "countryCode": "USA"\n            }\n        }\n    ]\n}\n')),(0,r.kt)("p",null,"Where:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Property"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"name"),(0,r.kt)("td",{parentName:"tr",align:null},"Name of the detected possible AML match")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"matchScore"),(0,r.kt)("td",{parentName:"tr",align:null},"AML match strength. Values up to 99.9999 (highest possible strength)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"category"),(0,r.kt)("td",{parentName:"tr",align:null},'AML match category. Possible categories: "Sanction List", "PEP", "Adverse Media", "Enforcement". One match will have one category.')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"subCategory"),(0,r.kt)("td",{parentName:"tr",align:null},"Available only for PEP, Adverse Media and Enforcement categories. Specifies subcategory of the main category (e.g., PEP \u2013 Family Member, Adverse Media \u2013 Burglary, etc.).")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"level"),(0,r.kt)("td",{parentName:"tr",align:null},'Available only for PEP category. Specifies PEP level \u2013 "International", "National", "State", or "Local".')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"source"),(0,r.kt)("td",{parentName:"tr",align:null},"Information about the source of the AML hit")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"source.name"),(0,r.kt)("td",{parentName:"tr",align:null},'Name of the source of the hit. Will return exact name of the source when the hit was found on an original list. Will return "Website" when the hit was found in media sources.')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"source.countryName"),(0,r.kt)("td",{parentName:"tr",align:null},'Full name of the country that listed the hit (e.g., country that released a sanction list where the hit was count). Will return full country name of the source when the hit was found on an original list. Will return "International" when the hit was found in media sources, or in case of "Consolidated Sanctions List" hit.')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"source.countryCode"),(0,r.kt)("td",{parentName:"tr",align:null},"3-letter code in ",(0,r.kt)("em",{parentName:"td"},"ISO 3166-1 Alpha-3"),' format of the country that released the hit. Available only when countryName is not "International", but a specific country.')))),(0,r.kt)("p",null,"To access any given transaction AML screening, you can navigate to:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://portal-test.globalpass.ch/screenings/%7BscreeningToken%7D/report"},"https://portal-test.globalpass.ch/screenings/{screeningToken}/report")," (",(0,r.kt)("em",{parentName:"li"},"sandbox"),")"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://portal.globalpass.ch/screenings/%7BscreeningToken%7D/report"},"https://portal.globalpass.ch/screenings/{screeningToken}/report")," (",(0,r.kt)("em",{parentName:"li"},"production"),")")))}u.isMDXComponent=!0}}]);