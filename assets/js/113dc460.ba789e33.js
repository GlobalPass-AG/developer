"use strict";(self.webpackChunkglobalpass_docs=self.webpackChunkglobalpass_docs||[]).push([[546],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>d});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=a.createContext({}),c=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},u=function(e){var t=c(e.components);return a.createElement(l.Provider,{value:t},e.children)},p="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},g=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,l=e.parentName,u=o(e,["components","mdxType","originalType","parentName"]),p=c(n),g=r,d=p["".concat(l,".").concat(g)]||p[g]||m[g]||i;return n?a.createElement(d,s(s({ref:t},u),{},{components:n})):a.createElement(d,s({ref:t},u))}));function d(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,s=new Array(i);s[0]=g;var o={};for(var l in t)hasOwnProperty.call(t,l)&&(o[l]=t[l]);o.originalType=e,o[p]="string"==typeof e?e:r,s[1]=o;for(var c=2;c<i;c++)s[c]=n[c];return a.createElement.apply(null,s)}return a.createElement.apply(null,n)}g.displayName="MDXCreateElement"},4719:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>s,default:()=>m,frontMatter:()=>i,metadata:()=>o,toc:()=>c});var a=n(7462),r=(n(7294),n(3905));const i={sidebar_position:2.1},s="Retrieving Screening Data",o={unversionedId:"api-integration-guide/aml-screenings/aml-for-business-integration/retrieving-screening-data",id:"api-integration-guide/aml-screenings/aml-for-business-integration/retrieving-screening-data",title:"Retrieving Screening Data",description:"You will receive a webhook with type business.change whenever the screening status changes.",source:"@site/docs/api-integration-guide/aml-screenings/aml-for-business-integration/retrieving-screening-data.md",sourceDirName:"api-integration-guide/aml-screenings/aml-for-business-integration",slug:"/api-integration-guide/aml-screenings/aml-for-business-integration/retrieving-screening-data",permalink:"/api-integration-guide/aml-screenings/aml-for-business-integration/retrieving-screening-data",draft:!1,tags:[],version:"current",sidebarPosition:2.1,frontMatter:{sidebar_position:2.1},sidebar:"apiIntegrationGuideSidebar",previous:{title:"AML for Business integration",permalink:"/api-integration-guide/aml-screenings/aml-for-business-integration/"},next:{title:"Retrieving Business AML PDF Report",permalink:"/api-integration-guide/aml-screenings/aml-for-business-integration/retrieving-business-aml-pdf-report"}},l={},c=[],u={toc:c},p="wrapper";function m(e){let{components:t,...n}=e;return(0,r.kt)(p,(0,a.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"retrieving-screening-data"},"Retrieving Screening Data"),(0,r.kt)("p",null,"You will receive a webhook with type ",(0,r.kt)("strong",{parentName:"p"},"business.change")," whenever the screening status changes."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="Example webhook"',title:'"Example','webhook"':!0},'{\n    "type": "business.change",\n    "data": {\n        "screeningToken": "f4564d3d-69de-4093-971d-796699c0e8c5"\n    },\n    "secret": "secret"\n}\n')),(0,r.kt)("p",null,"After receiving this webhook, you can get screening status by making an HTTP GET request to:"),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"api/v2/business/{screeningToken}")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash",metastring:'title="Example request"',title:'"Example','request"':!0},"curl -X 'GET' 'https://screenings-api-test.globalpass.ch/api/v2/business/f4564d3d-69de-4093-971d-796699c0e8c5' -H 'accept: text/plain' -H 'Authorization: Bearer {your_access_token} '\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="Example response"',title:'"Example','response"':!0},'{\n    "name": "Apple",\n    "taxRegistrationNumber": "0000320193",\n    "country": "United States",\n    "status": "Accepted"\n}\n')),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Possible ",(0,r.kt)("strong",{parentName:"p"},"status")," values:")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Accepted \u2013 screening is completed, AML matches over your set-up threshold ",(0,r.kt)("strong",{parentName:"li"},"are not")," found."),(0,r.kt)("li",{parentName:"ul"},"Rejected \u2013 screening is completed, AML matches over your set-up threshold ",(0,r.kt)("strong",{parentName:"li"},"are")," found.")),(0,r.kt)("p",null,"To retrieve ",(0,r.kt)("strong",{parentName:"p"},"AML scan results")," from a completed screening, make an HTTP GET request to:"),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"/api/v2/business/{screeningToken}/aml/matches ")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash",metastring:'title="Example request"',title:'"Example','request"':!0},"curl --location --request GET 'https://screenings-api-test.globalpass.ch/api/v2/business/9519c730-5d6e-4c23-b89a-8c4d06899e7f/aml/matches' --header 'Authorization: Bearer {your_access_token}'\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="Example response"',title:'"Example','response"':!0},'{\n    "screeningToken": "9519c730-5d6e-4c23-b89a-8c4d06899e7f",\n    "created": "2022-12-28T11:04:25.0931836Z",\n    "matches": [\n        {\n            "name": "Company ABC",\n            "matchScore": 99.99999,\n            "category": "SOE",\n            "subCategory": "Govt Owned Corp",\n            "source": {\n                "name": "Website",\n                "countryName": "International"\n            }\n        },\n        {\n            "name": "Company ABC",\n            "matchScore": 96.666664,\n            "category": "Enforcement",\n            "subCategory": "Antitrust Violations",\n            "source": {\n                "name": "BG\u2013Commission for Protection of Competition",\n                "countryName": "Bulgaria",\n                "countryCode": "BGR"\n            }\n        },\n        {\n            "name": "Company ABC",\n            "matchScore": 91.11111,\n            "category": "Sanction List",\n            "source": {\n                "name": "CA-Special Economic Measures against Russia",\n                "countryName": "Canada",\n                "countryCode": "CAN"\n            }\n        },\n        {\n            "name": "Company ABC",\n            "matchScore": 74.44444,\n            "category": "Associated Entity",\n            "subCategory": "Ownership Or Control",\n            "source": {\n                "name": "UK-Her Majesty\u2019s Treasury Financial Sanctions - Sanctions Ownership or Control",\n                "countryName": "United Kingdom",\n                "countryCode": "GBR"\n            }\n        }\n    ]\n}\n')),(0,r.kt)("p",null,"Where:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Property"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"name"),(0,r.kt)("td",{parentName:"tr",align:null},"Name of the detected possible AML match")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"matchScore"),(0,r.kt)("td",{parentName:"tr",align:null},"AML match strength. Values up to 99.9999 (highest possible strength)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"category"),(0,r.kt)("td",{parentName:"tr",align:null},'AML match category. Possible categories: "Sanction List", "PEP", "Adverse Media", "Enforcement". One match will have one category.')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"subCategory"),(0,r.kt)("td",{parentName:"tr",align:null},"Available only for PEP, Adverse Media and Enforcement categories. Specifies subcategory of the main category (e.g., PEP \u2013 Family Member, Adverse Media \u2013 Burglary, etc.).")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"level"),(0,r.kt)("td",{parentName:"tr",align:null},'Available only for PEP category. Specifies PEP level \u2013 "International", "National", "State", or "Local".')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"source"),(0,r.kt)("td",{parentName:"tr",align:null},"Information about the source of the AML hit")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"source.name"),(0,r.kt)("td",{parentName:"tr",align:null},'Name of the source of the hit. Will return exact name of the source when the hit was found on an original list. Will return "Website" when the hit was found in media sources.')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"source.countryName"),(0,r.kt)("td",{parentName:"tr",align:null},'Full name of the country that listed the hit (e.g., country that released a sanction list where the hit was count). Will return full country name of the source when the hit was found on an original list. Will return "International" when the hit was found in media sources, or in case of "Consolidated Sanctions List" hit.')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"source.countryCode"),(0,r.kt)("td",{parentName:"tr",align:null},"3-letter code in ",(0,r.kt)("em",{parentName:"td"},"ISO 3166-1 Alpha-3"),' format of the country that released the hit. Available only when countryName is not "International", but a specific country.')))),(0,r.kt)("p",null,"To access any given business AML screening, you can navigate to:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://portal-test.globalpass.ch/aml-screenings/business/%7BscreeningToken%7D"},"https://portal-test.globalpass.ch/aml-screenings/business/{screeningToken}")," (",(0,r.kt)("em",{parentName:"li"},"sandbox"),")"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://portal.globalpass.ch/aml-screenings/business/%7BscreeningToken%7D"},"https://portal.globalpass.ch/aml-screenings/business/{screeningToken}")," (",(0,r.kt)("em",{parentName:"li"},"production"),")")))}m.isMDXComponent=!0}}]);